<html>
  <head>
    <style>
      * {
        margin: 10px;
        padding: 5px;
        font-family: "Helvetica Neue", sans-serif;
        font-weight: 300;
      }
    </style>
  </head>

  <h1>Telefonbuch 9000</h1>

  <ul id="liste">
  </ul>

  <body>
    <script>
      /* Aufgabe:
       * Erstelle per Javascript für jedes Mitglied der Simpsons einen
       * Eintrag in der Liste #liste mit ihrem Vor-, Nachnamen und Alter.
       *
       * Pro Zeile soll es einen Button haben, welcher die Zeile entfernt.
       *
       * Tipp: Achte auf die EventHandler (PLURAL), wann sie hinzugefügt werden
       * Zusatzaufgabe für schnellere: Die Zeilen sollen per Button verschoben
       * werden können. Mit hoch und runter (^ und v)

       Erwartetes Resultat:
       <ul id="liste">
          <li>Bart Simpson (10) <button>Entfernen</button></li>
          <li>Homer Simpson (36) <button>Entfernen</button></li>
          <li>Lisa Simpson (8)  <button>Entfernen</button></li>
          <li>Marge Simpson (34) <button>Entfernen</button></li>
          <li>Maggie Simpson (1)  <button>Entfernen</button></li>
          <li>Hugo Simpson (10)  <button>Entfernen</button></li>
       </ul>
      */

      var simpsons = [
         {firstname: "Bart", name: "Simpson", age: 10, sex: 'm'},
         {firstname: "Homer", name: "Simpson", age: 36, sex: 'm'},
         {firstname: "Lisa", name: "Simpson", age: 8, sex: 'w'},
         {firstname: "Marge",name: "Simpson",  age: 34, sex: 'w'},
         {firstname: "Maggie", name: "Simpson", age: 1, sex: 'w'},
         {firstname: "Hugo", name: "Simpson", age: 10, sex: 'm'}
       ];


      for(var i = 0;i < simpsons.length;i++){
          console.log(i);
          var item = document.createElement('li');
          var btnrm = document.createElement('button');
          var btndown = document.createElement('button');
          var btnup = document.createElement('button');
          document.querySelector('#liste')
              .appendChild(item).innerText = simpsons[i].firstname+' '+simpsons[i].name+' ('+simpsons[i].age+') ';
          btnrm.classList.add('btn-rm');
          btndown.classList.add('btn-down');
          btnup.classList.add('btn-up');
          item.appendChild(btnrm).innerText = 'Entfernen';
          item.appendChild(btndown).innerText = 'Down';
          item.appendChild(btnup).innerText = 'Up';
      }


      function removeItem(e){
          var item = e.target;
          item.parentNode.parentNode.removeChild(item.parentNode);
      }

      function moveItem(e){
          var moveItem = e.target;
          console.log(moveItem.className);
          if(moveItem.className === 'btn-down'){
            //move down
            console.log('down');
            console.log(moveItem.parentNode.parentNode)
            //moveItem.parentNode.parentNode.insertBefore(moveItem.parentNode,moveItem.parentNode.nextElementSibling);
            moveItem.parentNode.parentNode.insertBefore(moveItem.parentNode.nextElementSibling,moveItem.parentNode);
          }else{
            //move up
            console.log('up');
            console.log(moveItem.parentNode.parentNode)
            moveItem.parentNode.parentNode.insertBefore(moveItem.parentNode,moveItem.parentNode.previousElementSibling);
          }

          console.log(moveItem.parentNode);
          console.log(moveItem.parentNode.previousElementSibling)
          console.log(moveItem.parentNode.nextElementSibling);

      }

      var buttons = document.querySelectorAll('.btn-rm');
      var listitems = document.querySelectorAll('.btn-down,.btn-up');

      console.log(listitems);

      for(var i = 0;i < buttons.length;i++){
          buttons[i].addEventListener('click',removeItem);
      }

      for(var i = 0;i < listitems.length;i++){
          listitems[i].addEventListener('click',moveItem);
      }





    </script>
  </body>
</html>


